<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CraftCraftMine | Status</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0a0f1e; color: #f1f5f9; font-family: 'Inter', sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.08); }
        .bar-container { display: flex; gap: 2px; height: 32px; align-items: flex-end; }
        .bar { flex-grow: 1; height: 100%; border-radius: 2px; cursor: pointer; transition: all 0.2s ease; }
        .bar-green { background-color: #10b981; opacity: 0.5; }
        .bar-red { background-color: #ef4444; opacity: 1; box-shadow: 0 0 10px rgba(239,68,68,0.4); }
        .bar:hover { transform: scaleY(1.2); opacity: 1; background-color: #ef4444; }
        .detail-box { display: none; margin-top: 15px; font-size: 12px; animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <header class="flex justify-between items-center mb-10">
            <a href="https://craftcraftmine.net" class="glass px-5 py-2 rounded-xl text-[10px] font-black text-red-500 uppercase tracking-widest hover:bg-red-500/10 transition border border-red-500/20">
                ← PORTAL
            </a>
            <div class="text-[10px] font-bold text-gray-500 tracking-widest uppercase">System-Protokoll v2.1</div>
        </header>

        <div class="text-center mb-12">
            <h1 class="text-4xl font-black uppercase tracking-tighter italic">CRAFTCRAFT<span class="text-red-600">MINE</span></h1>
            <p class="text-gray-500 text-[10px] font-bold tracking-[0.4em] uppercase mt-2">Infrastruktur Live-Status</p>
        </div>

        <div class="space-y-6">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="glass rounded-[1.5rem] p-6 border-t-2 border-green-500/30">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-black uppercase tracking-widest text-xs">Java Server</h3>
                        <span id="java-label" class="text-[9px] font-black py-1 px-3 rounded-full bg-gray-900 border border-white/5 uppercase">Lädt...</span>
                    </div>
                    <div class="bar-container" id="java-bars"></div>
                    <div class="flex justify-between mt-3 text-[9px] font-bold text-gray-600 uppercase">
                        <span id="java-uptime">--% Uptime</span>
                        <span>IP: minecraft...</span>
                    </div>
                    <div id="java-details" class="detail-box glass p-4 rounded-xl border border-red-500/20"></div>
                </div>

                <div class="glass rounded-[1.5rem] p-6 border-t-2 border-blue-500/30">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-black uppercase tracking-widest text-xs text-blue-400">Bedrock</h3>
                        <span id="bedrock-label" class="text-[9px] font-black py-1 px-3 rounded-full bg-gray-900 border border-white/5 uppercase">Lädt...</span>
                    </div>
                    <div class="bar-container" id="bedrock-bars"></div>
                    <div class="flex justify-between mt-3 text-[9px] font-bold text-gray-600 uppercase">
                        <span id="bedrock-uptime">--% Uptime</span>
                        <span>Geyser-Link</span>
                    </div>
                    <div id="bedrock-details" class="detail-box glass p-4 rounded-xl border border-blue-500/20"></div>
                </div>
            </div>

            <div class="glass rounded-[1.5rem] p-6 border-t-2 border-red-500/30">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-black uppercase tracking-widest text-xs text-red-500">Website & Domain</h3>
                    <span id="web-label" class="text-[9px] font-black py-1 px-3 rounded-full bg-gray-900 border border-white/5 uppercase">Lädt...</span>
                </div>
                <div class="bar-container" id="web-bars"></div>
                <div class="flex justify-between mt-3 text-[9px] font-bold text-gray-600 uppercase">
                    <span id="web-uptime">--% Verfügbarkeit</span>
                    <span>craftcraftmine.net</span>
                </div>
                <div id="web-details" class="detail-box glass p-4 rounded-xl border border-red-500/20"></div>
            </div>

            <div class="glass rounded-[1.5rem] p-6 border-t-2 border-orange-500/30">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-black uppercase tracking-widest text-xs text-orange-400">Live Map (BlueMap)</h3>
                    <span id="map-label" class="text-[9px] font-black py-1 px-3 rounded-full bg-gray-900 border border-white/5 uppercase">Lädt...</span>
                </div>
                <div class="bar-container" id="map-bars"></div>
                <div class="flex justify-between mt-3 text-[9px] font-bold text-gray-600 uppercase">
                    <span id="map-uptime">--% Online</span>
                    <span>Port: 30486</span>
                </div>
                <div id="map-details" class="detail-box glass p-4 rounded-xl border border-red-500/20"></div>
            </div>

            <div class="glass rounded-[1.5rem] p-6 border-t-2 border-white/10 opacity-60">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-black uppercase tracking-widest text-xs text-gray-400 italic">Player Stats API</h3>
                    <span class="text-[8px] font-black py-1 px-3 rounded-full bg-white/5 border border-white/5 uppercase">In Entwicklung</span>
                </div>
                <div class="flex items-center justify-center h-8 border border-dashed border-white/10 rounded-lg text-[10px] uppercase tracking-widest text-gray-600">
                    Warten auf Datenbank-Sync
                </div>
            </div>

        </div>

        <footer class="mt-16 flex flex-col md:flex-row justify-between items-center gap-6 opacity-30">
            <div class="text-[9px] font-bold tracking-widest uppercase text-center md:text-left leading-relaxed">
                © 2026 CraftCraftMine<br>Global Infrastructure Hub
            </div>
            <div class="text-[9px] font-mono bg-white/5 px-4 py-2 rounded-full border border-white/5" id="sync-time">
                LAST SYNC: --:--:--
            </div>
        </footer>
    </div>

    <script>
        // API-KEYS VON UPTIME ROBOT
        const MONITORS = {
            java:    'm802228348-28e6cbe112134f661ce9d6ac',
            bedrock: 'm802228476-be66200d8ca51bde00fb9973',
            web:     'HIER_DEN_KEY_FÜR_DIE_WEBSITE_EINTRAGEN',
            map:     'HIER_DEN_KEY_FÜR_BLUEMAP_EINTRAGEN'
        };

        function closeDetails() {
            document.querySelectorAll('.detail-box').forEach(el => el.style.display = 'none');
        }

        async function updateMonitor(key, prefix) {
            if (key.includes('HIER_')) return; // Überspringe Platzhalter

            try {
                const response = await fetch(`https://api.uptimerobot.com/v2/getMonitors`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: `api_key=${key}&format=json&custom_uptime_ratios=1`
                });
                const data = await response.json();
                const monitor = data.monitors[0];

                const isOnline = monitor.status === 2;
                const label = document.getElementById(`${prefix}-label`);
                const uptime = document.getElementById(`${prefix}-uptime`);
                const container = document.getElementById(`${prefix}-bars`);

                label.innerText = isOnline ? 'STABIL' : 'DOWN';
                label.className = `text-[9px] font-black py-1 px-3 rounded-full bg-gray-900 border border-white/5 ${isOnline ? 'text-green-400' : 'text-red-500 animate-pulse'}`;
                uptime.innerText = `${monitor.custom_uptime_ratio}% UPTIME (24H)`;

                container.innerHTML = '';
                for(let i=0; i<35; i++) { // 35 Balken für bessere Optik
                    const bar = document.createElement('div');
                    // Der letzte Balken ist der Echtzeit-Status
                    const isRed = (i === 34 && !isOnline);
                    bar.className = `bar ${isRed ? 'bar-red' : 'bar-green'}`;
                    
                    bar.onclick = (e) => {
                        e.stopPropagation();
                        closeDetails();
                        const detail = document.getElementById(`${prefix}-details`);
                        detail.style.display = 'block';
                        detail.innerHTML = `
                            <div class="flex justify-between mb-1 text-red-500 font-bold uppercase text-[10px]">
                                <span>Status Check</span>
                                <span>${new Date().toLocaleTimeString()}</span>
                            </div>
                            <p class="text-gray-400 italic">${isRed ? 'Kritischer Fehler: Host nicht erreichbar.' : 'System läuft stabil. Alle Pakete erfolgreich empfangen.'}</p>
                        `;
                    };
                    container.appendChild(bar);
                }
            } catch(e) { console.error("Monitor Error:", prefix); }
        }

        function startSync() {
            Object.keys(MONITORS).forEach(id => updateMonitor(MONITORS[id], id));
            document.getElementById('sync-time').innerText = `LAST SYNC: ${new Date().toLocaleTimeString()}`;
        }

        document.addEventListener('click', closeDetails);
        startSync();
        setInterval(startSync, 60000); // Jede Minute aktualisieren
    </script>
</body>
</html>
