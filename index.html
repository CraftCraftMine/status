<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CraftCraftMine | Status</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f172a; color: #f1f5f9; font-family: 'Inter', sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .bar-container { display: flex; gap: 3px; height: 30px; align-items: flex-end; }
        .bar { 
            background-color: #22c55e; 
            flex-grow: 1; 
            height: 100%; 
            border-radius: 2px; 
            opacity: 0.8; 
            cursor: pointer; 
            transition: transform 0.2s;
        }
        .bar:hover { transform: scaleY(1.2); opacity: 1; background-color: #3b82f6; }
        .detail-box { display: none; margin-top: 10px; font-size: 11px; color: #94a3b8; }
    </style>
</head>
<body class="min-h-screen p-6">

    <div class="max-w-4xl mx-auto">
        
        <header class="flex justify-between items-center mb-10">
            <a href="https://craftcraftmine.net" class="glass px-4 py-2 rounded-xl text-xs font-bold hover:bg-blue-600/20 transition uppercase tracking-widest">← Zum Dashboard</a>
            <img src="DEIN_LOGO_LINK" alt="Logo" class="w-16 h-16 rounded-xl border border-blue-500/30">
        </header>

        <div class="mb-10 text-center">
            <h1 class="text-3xl font-black uppercase tracking-tighter">CraftCraftMine <span class="text-blue-500 text-xl block sm:inline">Netzwerk Status</span></h1>
        </div>

        <div class="space-y-6">
            
            <div class="glass rounded-3xl p-6 border-b-2 border-green-500/30">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-lg uppercase tracking-tight">Java Edition</h3>
                    <span id="java-label" class="text-[10px] bg-green-500/20 text-green-400 px-2 py-1 rounded font-bold uppercase">Online</span>
                </div>
                <div class="bar-container" id="java-bars">
                    </div>
                <div id="java-details" class="detail-box glass p-3 rounded-xl italic">
                    Klicke auf einen Balken für Details...
                </div>
            </div>

            <div class="glass rounded-3xl p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-lg uppercase tracking-tight">Bedrock & Konsole</h3>
                    <span class="text-[10px] bg-green-500/20 text-green-400 px-2 py-1 rounded font-bold uppercase">Online</span>
                </div>
                <div class="bar-container" id="bedrock-bars"></div>
                <div id="bedrock-details" class="detail-box glass p-3 rounded-xl italic"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="glass rounded-2xl p-6">
                    <h3 class="font-bold text-sm uppercase mb-3">Sprach-Chat</h3>
                    <div class="bar-container h-4" id="voice-bars"></div>
                </div>
                <div class="glass rounded-2xl p-6">
                    <h3 class="font-bold text-sm uppercase mb-3">Live-Karte</h3>
                    <div class="bar-container h-4" id="map-bars"></div>
                </div>
            </div>

        </div>

        <div class="text-right mt-4 text-[10px] text-gray-600 font-mono tracking-widest uppercase">
            Letzte Aktualisierung: <span id="last-check">--:--:--</span>
        </div>

        <footer class="mt-16 py-6 border-t border-white/5 text-center text-gray-500 text-[11px] tracking-widest uppercase">
            <p>© 2026 CraftCraftMine Netzwerk</p>
        </footer>
    </div>

    <script>
        // Funktion um Balken und Klick-Events zu generieren
        function createBars(containerId, detailId) {
            const container = document.getElementById(containerId);
            const detailBox = document.getElementById(detailId);
            const now = new Date();

            for (let i = 0; i < 40; i++) {
                const bar = document.createElement('div');
                bar.className = 'bar';
                
                // Simulierter Check alle 3 Minuten rückwärts
                const checkTime = new Date(now.getTime() - (39 - i) * 3 * 60000);
                const timeStr = checkTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

                bar.onclick = () => {
                    detailBox.style.display = 'block';
                    detailBox.innerHTML = `Prüfung am ${checkTime.toLocaleDateString()}: <b class="text-green-400">Erfolgreich</b> um ${timeStr} Uhr. Keine Störungen festgestellt.`;
                };
                container.appendChild(bar);
            }
        }

        // Balken initialisieren
        createBars('java-bars', 'java-details');
        createBars('bedrock-bars', 'bedrock-details');
        createBars('voice-bars', 'java-details'); // Details teilen sich Box oder lassen wir weg
        createBars('map-bars', 'java-details');

        // Server Status Abfrage (Java)
        async function fetchStatus() {
            try {
                const res = await fetch('https://api.mcstatus.io/v2/status/java/craftcraftmine.net');
                const data = await res.json();
                const label = document.getElementById('java-label');
                
                if (data.online) {
                    label.innerText = "Online";
                    label.className = "text-[10px] bg-green-500/20 text-green-400 px-2 py-1 rounded font-bold uppercase";
                } else {
                    label.innerText = "Offline";
                    label.className = "text-[10px] bg-red-500/20 text-red-400 px-2 py-1 rounded font-bold uppercase";
                }
                document.getElementById('last-check').innerText = new Date().toLocaleTimeString();
            } catch (e) { console.log("Fehler..."); }
        }

        fetchStatus();
        setInterval(fetchStatus, 60000); // Prüft jede Minute
    </script>
</body>
</html>

