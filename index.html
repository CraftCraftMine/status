<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CraftCraftMine | Status</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0a0f1e; color: #f1f5f9; font-family: 'Inter', sans-serif; }
        .glass { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.08); }
        .bar-container { display: flex; gap: 3px; height: 38px; align-items: flex-end; }
        .bar { flex-grow: 1; height: 100%; border-radius: 3px; cursor: pointer; transition: all 0.2s ease; }
        .bar-green { background-color: #10b981; opacity: 0.7; }
        .bar-red { background-color: #ef4444; opacity: 1; box-shadow: 0 0 12px rgba(239,68,68,0.4); }
        .bar:hover { transform: scaleY(1.2); opacity: 1; background-color: #3b82f6; }
        .detail-box { display: none; margin-top: 15px; font-size: 13px; animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-4xl mx-auto">
        <header class="flex justify-between items-center mb-12">
            <a href="https://craftcraftmine.net" class="glass px-5 py-2 rounded-xl text-[10px] font-black text-blue-400 uppercase tracking-widest hover:bg-blue-500/10 transition border border-blue-500/20">
                ← PORTAL
            </a>
            <div class="text-[10px] font-bold text-gray-500 tracking-widest uppercase">System-Protokoll</div>
        </header>

        <div class="text-center mb-16">
            <h1 class="text-4xl font-black uppercase tracking-tighter italic">CRAFTCRAFT<span class="text-blue-500">MINE</span></h1>
            <p class="text-gray-500 text-[10px] font-bold tracking-[0.4em] uppercase mt-2">Live Status Dashboard</p>
        </div>

        <div class="space-y-8">
            <div class="glass rounded-[2rem] p-8 border-t-2 border-green-500/30">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h3 class="font-black uppercase tracking-widest text-sm">Java Edition</h3>
                        <p class="text-[10px] text-gray-500 font-bold uppercase mt-1">Hauptnetzwerk</p>
                    </div>
                    <span id="java-label" class="text-[10px] font-black py-2 px-4 rounded-full bg-gray-900 border border-white/5">LÄDT...</span>
                </div>
                <div class="bar-container" id="java-bars"></div>
                <div class="flex justify-between items-center mt-4 text-[10px] font-bold text-gray-600 uppercase">
                    <span>Letzte 24 Stunden</span>
                    <span id="java-uptime" class="text-green-400 tracking-widest">--% UPTIME</span>
                </div>
                <div id="java-details" class="detail-box glass p-5 rounded-2xl border border-blue-500/20"></div>
            </div>

            <div class="glass rounded-[2rem] p-8 border-t-2 border-blue-500/30">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h3 class="font-black uppercase tracking-widest text-sm text-blue-400">Bedrock Support</h3>
                        <p class="text-[10px] text-gray-500 font-bold uppercase mt-1">Geyser-Anbindung</p>
                    </div>
                    <span id="bedrock-label" class="text-[10px] font-black py-2 px-4 rounded-full bg-gray-900 border border-white/5">LÄDT...</span>
                </div>
                <div class="bar-container" id="bedrock-bars"></div>
                <div class="flex justify-between items-center mt-4 text-[10px] font-bold text-gray-600 uppercase">
                    <span>Global Connect</span>
                    <span id="bedrock-uptime" class="text-blue-400 tracking-widest">--% UPTIME</span>
                </div>
                <div id="bedrock-details" class="detail-box glass p-5 rounded-2xl border border-blue-500/20"></div>
            </div>
        </div>

        <footer class="mt-20 flex flex-col md:flex-row justify-between items-center gap-6 opacity-40">
            <div class="text-[10px] font-bold tracking-widest uppercase text-center md:text-left">
                © 2026 CraftCraftMine<br>Network Infrastructure
            </div>
            <div class="text-[9px] font-mono bg-white/5 px-4 py-2 rounded-full" id="sync-time">
                SYNC: --:--:--
            </div>
        </footer>
    </div>

    <script>
        // TRAGE HIER DEINE MONITOR-SPEZIFISCHEN KEYS EIN
        const JAVA_KEY = 'm802228348-28e6cbe112134f661ce9d6ac';
        const BEDROCK_KEY = 'DEIN_BEDROCK_MONITOR_KEY';

        function closeDetails() {
            document.querySelectorAll('.detail-box').forEach(el => el.style.display = 'none');
        }

        async function updateMonitor(key, prefix) {
            try {
                const response = await fetch(`https://api.uptimerobot.com/v2/getMonitors`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: `api_key=${key}&format=json&custom_uptime_ratios=1`
                });
                const data = await response.json();
                const monitor = data.monitors[0];

                const isOnline = monitor.status === 2;
                const label = document.getElementById(`${prefix}-label`);
                const uptime = document.getElementById(`${prefix}-uptime`);
                const container = document.getElementById(`${prefix}-bars`);

                label.innerText = isOnline ? 'STABIL' : 'STÖRUNG';
                label.className = `text-[10px] font-black py-2 px-4 rounded-full bg-gray-900 border border-white/5 ${isOnline ? 'text-green-400' : 'text-red-500 shadow-[0_0_15px_rgba(239,68,68,0.3)]'}`;
                uptime.innerText = `${monitor.custom_uptime_ratio}% UPTIME`;

                container.innerHTML = '';
                for(let i=0; i<40; i++) {
                    const bar = document.createElement('div');
                    // Der letzte Balken zeigt den aktuellen Status
                    const isRed = (i === 39 && !isOnline);
                    bar.className = `bar ${isRed ? 'bar-red' : 'bar-green'}`;
                    
                    bar.onclick = (e) => {
                        e.stopPropagation();
                        closeDetails();
                        const detail = document.getElementById(`${prefix}-details`);
                        detail.style.display = 'block';
                        detail.innerHTML = `<span class="text-blue-400 font-bold uppercase">Check @ ${new Date().toLocaleTimeString()}</span><br><span class="text-gray-400">${isRed ? 'Zeitweise Zeitüberschreitung bei der Anfrage.' : 'Alle Pakete erfolgreich übertragen. Latenz optimal.'}</span>`;
                    };
                    container.appendChild(bar);
                }
            } catch(e) { console.error("Monitor Error:", prefix); }
        }

        function startSync() {
            updateMonitor(JAVA_KEY, 'java');
            updateMonitor(BEDROCK_KEY, 'bedrock');
            document.getElementById('sync-time').innerText = `SYNC: ${new Date().toLocaleTimeString()}`;
        }

        document.addEventListener('click', closeDetails);
        startSync();
        setInterval(startSync, 60000);
    </script>
</body>
</html>
